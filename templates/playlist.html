{% extends "base.html" %}
{% block header %}
    <link rel="stylesheet" href="../static/css/style.css">
    <meta charset="utf-8">
    <title>Playlist Maker</title>

    <!-- search box-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>
    * {box-sizing: border-box;}

    body {
    margin: 0;
    font-family: Arial, Helvetica, sans-serif;
    }

    .topnav {
    overflow: hidden;
    /* background-color: #e9b0df; */
    }

    .topnav a {
    float: left;
    display: block;
    color: black;
    text-align: center;
    padding: 14px 16px;
    text-decoration: none;
    font-size: 17px;
    }

    .topnav a:hover {
    background-color: #ddd;
    color: black;
    }

    .topnav a.active {
    background-color: #e9b0df;
    color: white;
    }

    .topnav .search-container {
    float: right;
    }

    .topnav input[type=text] {
    padding: 6px;
    margin-top: 8px;
    font-size: 17px;
    border: none;
    }

    .topnav .search-container button {
    float: right;
    padding: 6px 10px;
    margin-top: 8px;
    margin-right: 16px;
    background: #ddd;
    font-size: 17px;
    border: none;
    cursor: pointer;
    }

    .topnav .search-container button:hover {
    background: #ccc;
    }

    @media screen and (max-width: 600px) {
    .topnav .search-container {
    float: none;
    }
    .topnav a, .topnav input[type=text], .topnav .search-container button {
    float: none;
    display: block;
    text-align: left;
    width: 100%;
    margin: 0;
    padding: 14px;
    }
    .topnav input[type=text] {
    border: 1px solid #ccc;
    }
    }
    </style>
{% endblock %}
{% block body %}
    <!-- search box-->
    <div class="topnav">
        <div class="search-container">
        <form action="{{url_for('playlist')}}" method="post">
            <input type="text" placeholder="Search.." name="search">
            <button type="submit">Add to my playlist</button>
        </form>
        </div>
    </div>
    <!-- end of search box-->
    <img src="../static/imgs/Logo.jpg" alt="Logo" width="200" height="100" >
    <figcaption>Infinity Music</figcaption>

    <div style="text-align: center">
        <br>
        <br>
        <h2>Music</h2>
        
        <!-- Music player -->
        <audio controls="controls" autoplay="autoplay">
            <source src="{{downloadLink}}">
        </audio>
        
        <!-- Like button
        <form action="{{url_for('playlist')}}" method="post">            
            <button type="submit" name="like" value="like">
                <a class="like-button">
                    <?xml version="1.0" encoding="utf-8"?>
                    <svg width="20" height="20" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg">
                        <path d="M320 1344q0-26-19-45t-45-19q-27 0-45.5 19t-18.5 45q0 27 18.5 45.5t45.5 18.5q26 0 45-18.5t19-45.5zm160-512v640q0 26-19 45t-45 19h-288q-26 0-45-19t-19-45v-640q0-26 19-45t45-19h288q26 0 45 19t19 45zm1184 0q0 86-55 149 15 44 15 76 3 76-43 137 17 56 0 117-15 57-54 94 9 112-49 181-64 76-197 78h-129q-66 0-144-15.5t-121.5-29-120.5-39.5q-123-43-158-44-26-1-45-19.5t-19-44.5v-641q0-25 18-43.5t43-20.5q24-2 76-59t101-121q68-87 101-120 18-18 31-48t17.5-48.5 13.5-60.5q7-39 12.5-61t19.5-52 34-50q19-19 45-19 46 0 82.5 10.5t60 26 40 40.5 24 45 12 50 5 45 .5 39q0 38-9.5 76t-19 60-27.5 56q-3 6-10 18t-11 22-8 24h277q78 0 135 57t57 135z" />
                    </svg>
                </a>
            </button>
        </form> -->

        <br>

        <!-- Playlist -->
        <ul style="text-align: center; float: right;">
            <h2> Your Playlist:</h2>
            {% for song in songs %}
                <li><a href="javascript:void(0);">{{song}}</a></li>
            {% endfor %}
        </ul>

        <!-- Music information -->
        <ul style="text-align: center; float: left;">
            <li><h4>Artist:</h4> {{artist}}</li>
            <br>
            <li><h4>Title:</h4>  {{title}}</li>
            <br>
            <li><h4>Lyric:</h4>  {{lyric}}</li>
            <br>
            <li><h4>Time:</h4> {{time}}</li>
            <br>
            <h4>Download Link:</h4><li><a href={{downloadLink}}>{{downloadLink}}</a></li>
        </ul>

    </div>

    <!-- <script type='text/javascript'>
        {% for song in songs %} 
            $('li').click(function(){
                var str = $(this).text()
                $('audio').attr('src', '/static/music/'+str);
            });
        {% endfor %} -->
    <!-- </script> -->
{% endblock %}
{% block nav %}
{% endblock %}
